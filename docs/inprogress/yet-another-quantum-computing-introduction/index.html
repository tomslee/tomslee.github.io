<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tom Slee">
<meta name="dcterms.date" content="2024-05-17">
<meta name="description" content="Quantum computing without the difficult bits">

<title>Tom Slee - Yet Another Introduction to Quantum Computing, Part I</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: DarkCyan;
      }
</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="twitter:title" content="Tom Slee - Yet Another Introduction to Quantum Computing, Part I">
<meta name="twitter:description" content="Quantum computing without the difficult bits">
<meta name="twitter:image" content="images/clipboard-3934556282.png">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Tom Slee</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../essays.html" rel="" target="">
 <span class="menu-text">Essays</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../inprogress.html" rel="" target="">
 <span class="menu-text">Sketches &amp; Scraps</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://tomslee.github.io/ridehail/lab/" rel="" target="">
 <span class="menu-text">Ridehail Lab</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html" rel="" target="">
 <span class="menu-text">Whimsley (blog archive)</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/tomslee" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/whimsley" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Yet Another Introduction to Quantum Computing, Part I</h1>
                  <div>
        <div class="description">
          <p>Quantum computing without the difficult bits</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">In Progress</div>
                <div class="quarto-category">Quantum Computing</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Tom Slee </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Last updated</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 17, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#how-to-build-a-quantum-computer" id="toc-how-to-build-a-quantum-computer" class="nav-link" data-scroll-target="#how-to-build-a-quantum-computer"><span class="header-section-number">2</span> How to build a quantum computer</a></li>
  <li><a href="#how-quantum-computers-compute" id="toc-how-quantum-computers-compute" class="nav-link" data-scroll-target="#how-quantum-computers-compute"><span class="header-section-number">3</span> How quantum computers compute</a>
  <ul class="collapse">
  <li><a href="#quantum-computers-as-general-purpose" id="toc-quantum-computers-as-general-purpose" class="nav-link" data-scroll-target="#quantum-computers-as-general-purpose"><span class="header-section-number">3.1</span> Quantum computers as “general purpose”</a></li>
  <li><a href="#quantum-computing-libraries" id="toc-quantum-computing-libraries" class="nav-link" data-scroll-target="#quantum-computing-libraries"><span class="header-section-number">3.2</span> Quantum computing libraries</a></li>
  </ul></li>
  <li><a href="#quantum-computing-algorithms" id="toc-quantum-computing-algorithms" class="nav-link" data-scroll-target="#quantum-computing-algorithms"><span class="header-section-number">4</span> Quantum computing algorithms</a>
  <ul class="collapse">
  <li><a href="#superposition-and-interference" id="toc-superposition-and-interference" class="nav-link" data-scroll-target="#superposition-and-interference"><span class="header-section-number">4.1</span> Superposition and interference</a></li>
  <li><a href="#aside-the-hadamard-gate" id="toc-aside-the-hadamard-gate" class="nav-link" data-scroll-target="#aside-the-hadamard-gate"><span class="header-section-number">4.2</span> Aside: the Hadamard gate</a></li>
  <li><a href="#the-deutsch-algorithm" id="toc-the-deutsch-algorithm" class="nav-link" data-scroll-target="#the-deutsch-algorithm"><span class="header-section-number">4.3</span> The Deutsch algorithm</a></li>
  <li><a href="#the-canonical-algorithms" id="toc-the-canonical-algorithms" class="nav-link" data-scroll-target="#the-canonical-algorithms"><span class="header-section-number">4.4</span> The canonical algorithms</a></li>
  <li><a href="#a-side-note-quantum-simulation" id="toc-a-side-note-quantum-simulation" class="nav-link" data-scroll-target="#a-side-note-quantum-simulation"><span class="header-section-number">4.5</span> A side note: quantum simulation</a></li>
  </ul></li>
  <li><a href="#quantum-computing-in-2024" id="toc-quantum-computing-in-2024" class="nav-link" data-scroll-target="#quantum-computing-in-2024"><span class="header-section-number">5</span> Quantum computing in 2024</a>
  <ul class="collapse">
  <li><a href="#current-state-of-the-art" id="toc-current-state-of-the-art" class="nav-link" data-scroll-target="#current-state-of-the-art"><span class="header-section-number">5.1</span> Current state of the art</a></li>
  <li><a href="#error-correction-a-tension-at-the-heart-of-quantum-computing" id="toc-error-correction-a-tension-at-the-heart-of-quantum-computing" class="nav-link" data-scroll-target="#error-correction-a-tension-at-the-heart-of-quantum-computing"><span class="header-section-number">5.2</span> Error correction: a tension at the heart of quantum computing</a></li>
  </ul></li>
  <li><a href="#the-big-question" id="toc-the-big-question" class="nav-link" data-scroll-target="#the-big-question"><span class="header-section-number">6</span> The big question</a>
  <ul class="collapse">
  <li><a href="#quotation" id="toc-quotation" class="nav-link" data-scroll-target="#quotation"><span class="header-section-number">6.1</span> Quotation</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>In February 2023, <em>Time</em> Magazine displayed a quantum computer overlaid with the words “The Quantum Leap” <span class="citation" data-cites="charliecampbell2023">(<a href="#ref-charliecampbell2023" role="doc-biblioref">Charlie Campbell 2023</a>)</span>. In smaller print on each side were headlines “The future of computing is here” and “This machine can solve problems in seconds that used to take years”. This is just one of many recent popular investigations reflecting an increasingly bullish outlook for quantum computing.</p>
<p>It’s an outlook bolstered by new funding announcements. On April 30 Australia announced an investment of almost $1B in PsiQuantum “to build a groundbreaking utility-scale fault tolerant quantum computer” <span class="citation" data-cites="departmentofindustryscienceandresources2024">(<a href="#ref-departmentofindustryscienceandresources2024" role="doc-biblioref">Department of Industry, Science and Resources 2024</a>)</span>. The state of Illinois may be looking to build a $20B campus). McKinsey &amp; Company report a leap in start-up investment in quantum computing to $1.8B in 2022, about ten times the investment of three years previous <span class="citation" data-cites="mckinseycompany2023">(<a href="#ref-mckinseycompany2023" role="doc-biblioref">McKinsey &amp; Company 2023</a>)</span>.</p>
<p>All this builds on research results coming from both universities and from major technology companies. If there is a single event that prompted the new excitement it was the publication of a provocatively-titled paper from researchers at Google: “Quantum supremacy using a programmable superconducting processor” <span class="citation" data-cites="arute2019">(<a href="#ref-arute2019" role="doc-biblioref">Arute et al. 2019</a>)</span>. “Quantum supremacy” is a claim that a quantum computer can carry out tasks that no classical computer could carry out.</p>
<blockquote class="blockquote">
<p>Our Sycamore processor takes about 200 seconds to sample one instance of a quantum circuit a million times—our benchmarks currently indicate that the equivalent task for a state-of-the-art classical supercomputer would take approximately 10,000 years. This dramatic increase in speed compared to all known classical algorithms is an experimental realization of quantum supremacy for this specific computational task, heralding a much anticipated computing paradigm.</p>
</blockquote>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3934556282.png" class="img-fluid figure-img" alt="Time Magazine cover, January 2023, title &quot;The Quantum Leap&quot;" width="300"></p>
<figcaption class="figure-caption">Time Magazine cover, January 2023</figcaption>
</figure>
</div>
<p>The TIME magazine article suggests that this much-anticipated paradigm is already bearing fruit:</p>
<blockquote class="blockquote">
<p>Quantum’s unique ability to crunch stacks of data is already optimising the routes of thousands of fuel tankers traversing the globe, helping decide which ICU patients require the most urgent care, and mimicking chemical processes at the atomic level to better design new materials..</p>
</blockquote>
<p>So if you have been thinking of quantum computing as a still-speculative research program with no short-term implications then this might come as a bit of a shock. It’s out there in the real world, doing things! And this would be impressive…if it were true.</p>
<p>But we shall come to that later on. Regardless of the rights and wrongs of these claims, there is no doubt that quantum computing has moved from the fringes of academic research to claim the attention of business boards and government policymakers.</p>
<p>There have been many introductions to quantum computing. If there is justification for yet another one, it is that I will try to dodge some of the mystification that often comes with discussion of quantum phenomena and instead answer these questions:</p>
<ul>
<li><p>How do you build a quantum computer? And are we going to have quantum laptops?</p></li>
<li><p>How does a quantum computer compute? In what ways is it different to a “normal” classical computer?</p></li>
<li><p>Why should we care? What advantages, if any, does quantum computing offer?</p></li>
<li><p>What is its status now? and what are its prospects?</p></li>
</ul>
</section>
<section id="how-to-build-a-quantum-computer" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> How to build a quantum computer</h1>
<p>You have probably heard that whereas regular computers are built around bits, quantum computers are built around qubits. So what does that look like?</p>
<p>The archetypal example of a qubit is an atomic nucleus with a spin of ½, like the <sup>89</sup>Y isotope of Yttrium. The nucleus acts as if it were an electrical charge spinning in one direction or the other, and this spinning electrical charge creates a little magnet that can be pointing either “up” or “down”. Any measurement of the spin of the nucleus along a given axis will give the value +½ (up) or -½ (down)—two values that can represent <span class="math inline">\(0\)</span> and <span class="math inline">\(1\)</span>, just as a classical “bit” might be a transistor that can take on a state of “on” or “off”. You may have heard that qubits can exist in combinations of 0 and 1, but let’s leave that to one side for now.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2996633943.png" class="img-fluid figure-img" alt="An archetypal qubit: an atom with nuclear spin up or down" width="300"></p>
<figcaption class="figure-caption">An archetypal qubit: an atom with nuclear spin up or down</figcaption>
</figure>
</div>
<p>Qubits may be built from atomic nuclear spins, using nuclear magnetic resonance, but can in principle be built from any other system that displays this two-level behaviour.</p>
<p>Some research groups have built quantum computers with atomic-scale qubits, like arrays of charged ions trapped in space by electromagnetic fields or arrays of neutral atoms.</p>
<p>Other researchers are exploiting macroscopic quantum phenomena. Google and others use qubits based on superconductivity in circuits of maybe a micrometre in size: the current in a superconductor is quantized. And there are other approaches (often called “modalities”) too: photonics, topological “anyons” and more.</p>
<p>A feature of quantum computing is that it has divided into two areas: building a quantum computer (using a particular modality) and developing quantum algorithms (that could, in principle, run on a quantum computer built with any of these modalities).</p>
<p>Perhaps one thing that we can infer from the large number of qubit “modalities” being pursued is the uncertainty that remains regarding progress. If there were a clear path from a particular design to a general purpose quantum computer, then the industry would coalesce around that modality. The fact that is hasn’t suggests that each modality has challenges that remain, and reasons for optimism that its proponents will champion.</p>
</section>
<section id="how-quantum-computers-compute" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> How quantum computers compute</h1>
<p>Whatever approach you choose, you want to build a computer out of these qubits. So the next thing you want for a computer is logic gates. In a classical computer the simplest gate is this NOT gate.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-1114991653.png" class="img-fluid figure-img" alt="A NOT gate, which turns 0 into 1 and vice versa" width="300"></p>
<figcaption class="figure-caption">A NOT gate, which turns 0 into 1 and vice versa</figcaption>
</figure>
</div>
<p>The NOT gate has one input and one output. If the input is 0, then the output is 1. In classical computers, the lines are wires and the shield-symbol is etched into a chip and the bits are charges moving through the gates.</p>
<p>In the world of quantum computers, the qubits stay where they are: it’s called “in-place computing”. If you can shine a laser at one particular qubit and cause it to flip from one of its states to the other, then that’s like a NOT gate: it turns the 0 into 1 and the 1 into 0. In quantum computing circuit diagrams, the lines are not wires, they are <em>before</em> and <em>after</em> states of the qubit.</p>
<p>Most classical gates have two inputs, like XOR and NAND, and many quantum gates can also have two inputs. Here is a “Controlled NOT gate” or CNOT gate, which is an important component of quantum computers. If the top qubit is spin down, the bottom qubit is unchanged. If the top qubit is spin up, the bottom qubit is flipped.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2084024626.png" class="img-fluid figure-img" alt="A CNOT gate (conditional NOT) which flips the state of the target qubit only if the state of the control qubit is 1." width="300"></p>
<figcaption class="figure-caption">A CNOT gate (conditional NOT) which flips the state of the target qubit only if the state of the control qubit is 1.</figcaption>
</figure>
</div>
<p>Again, if this were a classical computing gate, the bits would travel along the wires, going in from the left and out on the right. But in quantum computing the gate is not an etched feature of a circuit. It’s an operation—a combination of laser or microwave pulses that changes the state of the qubits—and the qubits stay in place.</p>
<p>The next thing you want to do is implement algorithms. In classical computers you have a fixed circuit and programming instructions send bits through these fixed gates to implement an algorithm. In a quantum computer, you start with a set of qubits in a prepared state (usually all <span class="math inline">\(|0\rangle\)</span>), and apply a sequence of gate operations and then measure the output. So a circuit is how you implement an algorithm.</p>
<p>Here is a bigger circuit diagram for a three-bit quantum fourier transform, which turns out to be important in the Shor algorithm for factoring integers. You have n qubits, you prepare them in some initial state |xi&gt;, you subject them to a series of gates, and you end up with some outputs which you measure.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-1213033795.png" class="img-fluid figure-img" alt="A circuit for a quantum Fourier transform"></p>
<figcaption class="figure-caption">A circuit for a quantum Fourier transform. Source: Wikimedia Commons</figcaption>
</figure>
</div>
<section id="quantum-computers-as-general-purpose" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="quantum-computers-as-general-purpose"><span class="header-section-number">3.1</span> Quantum computers as “general purpose”</h2>
<p>When I started looking at circuit diagrams like this I thought it contradicted the idea of quantum computers as general purpose computers, because it looked like you had to have different circuits for different algorithms. But once you realise that a circuit is not a permanent thing but is instead a sequence of operations (gates) that implement an algorithm, then it’s not a contradiction at all.</p>
<p>So are quantum computers general purpose? Well yes and no.</p>
<p>Formally they are. That is, there is a set of gates (different to the gates for classical computing) which satisfy the requirements for Turing completeness. So that’s nice.</p>
<p>But what about general purpose in the practical sense? Let’s go back to how you build quantum computers.</p>
<p>No matter what approach you take, the set of qubits must exist in a single quantum state. Quantum states fall apart or decohere when interacting with the wider world, so they have to be isolated. Also, thermal energy will jiggle these qubits among the states and you can’t have that, so quantum computers of whatever type have to be operated at very low temperatures, meaning about 1K.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>This has consequences:</p>
<ul>
<li><p>You won’t, in the foreseeable future, have a quantum computing laptop. Quantum computers need cooling and will be built in fixed locations.</p></li>
<li><p>It’s going to be expensive to build them. And so your company won’t be buying many quantum computers any time soon. It makes sense to have specialised providers who will provide time on them through a cloud service. Timesharing on a mainframe.</p></li>
<li><p>For any algorithm that can be executed either classically or in a quantum computer, classical is going to be roughly a gazillion times cheaper for the foreseeable future. You won’t be running most of your code on a quantum computer.</p></li>
</ul>
<p><em>BUT</em> there are certain tasks that may be done more quickly on a quantum computer than on a classical one. So specific function calls within a larger program may be executed on a quantum computer, and the rest will be done on a classical one.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2267828356.png" class="img-fluid figure-img" alt="Quantum computers are most likely to be made available as cloud services, to augment existing classical computing cloud services" width="300"></p>
<figcaption class="figure-caption">Quantum computers are most likely to be made available as cloud services, to augment existing classical computing cloud services</figcaption>
</figure>
</div>
<p>The emerging paradigm is of a cloud-hosted data centre where an application can use classical computers but have access to quantum computers to run these specific functions. Perhaps it’s not surprising that Microsoft, IBM, and Google are at the forefront and Amazon (AWS) is now investing heavily: they want to host them, and rent them out to their cloud users.</p>
</section>
<section id="quantum-computing-libraries" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="quantum-computing-libraries"><span class="header-section-number">3.2</span> Quantum computing libraries</h2>
<p>The companies providing quantum computers want people to use them, so they provide libraries or modules that you can use. For example, Google and IBM provide python libraries (cirq and Qiskit, respectively) and Microsoft provides the Q# .NET programming language. These libraries provide an interface to the host quantum computers and, more practically for most of us, provide a way to simulate quantum computing on a local classical computer, for small cases.</p>
<p>So here is some code that uses Google’s <em>cirq</em> library for python. It defines two qubits and a list of gates that operate on those qubits. Then it creates a circuit from the gates, and runs the circuit on a simulator on your local computer. As the algorithm is very simple, the quantum computation can easily be simulated on a classical computer. If you’re familiar with the python programming language, you can easily install <code>cirq</code> by typing <code>pip install cirq</code> at a command prompt. Here is a “hello world” example to give you an idea of what the code looks like, which each step described by a comment.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> cirq</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Define two qubits</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>qa <span class="op">=</span> cirq.NamedQubit(<span class="st">'source'</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>qb <span class="op">=</span> cirq.NamedQubit(<span class="st">'target'</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a list of gates: a "Hadamard" gate on each qubit, </span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># followed by a CNOT gate, and then a measurement of qubit qa.</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>gates <span class="op">=</span> [</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  cirq.H(qa), cirq.H(qb), cirq.CNOT(qa, qb), cirq.measure(qa)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a circuit from this list of gates</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>circuit <span class="op">=</span> cirq.Circuit(gates)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(circuit)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulate the execution of the circuit</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>simulator <span class="op">=</span> cirq.Simulator()</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> simulator.run(circuit)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The “print” instructions display an ascii-art rendering of the circuit and the results.</p>
</section>
</section>
<section id="quantum-computing-algorithms" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Quantum computing algorithms</h1>
<p>Building a new kind of computer, defining new ways to express algorithms, providing new coding libraries, integrating computers with existing cloud services… This is all a lot of work. Why would you bother? The approach is of interest only because quantum computing has been shown to have an intrinsic advantage over classical computing, at least in principle, for certain kinds of problem. Part II of this introduction (link to come) is an attempt to describe this advantage in detail, but here we shall skip lightly over the essential details. It won’t be enough to understand what’s going on, but it may be enough to orient you to some of the descriptions you see elsewhere.</p>
<section id="superposition-and-interference" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="superposition-and-interference"><span class="header-section-number">4.1</span> Superposition and interference</h2>
<p>The idea of quantum advantage relies on a combination of two phenomena that are consequences from the wave/particle nature of quantum systems.</p>
<p>One is that qubits exist in <em>superpositions</em> of states. That is, although any measurement of the qubit will show it to be in state <span class="math inline">\(| \uparrow \rangle\)</span> or <span class="math inline">\(| \downarrow \rangle\)</span>, in general the qubit can be in a state that is a superposition of these two, and it has what is called a wavefunction or (equivalently) a state vector <span class="math inline">\(| \psi \rangle\)</span> (the Greek letter <em>psi</em>) given by:</p>
<p><span class="math display">\[
| \psi \rangle = \alpha | \uparrow \rangle + \beta | \downarrow \rangle
\]</span></p>
<p>The <span class="math inline">\(| \uparrow \rangle\)</span> and <span class="math inline">\(| \downarrow \rangle\)</span> states, which are the possible outcomes of measurement, are called <em>basis states</em> <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> or <em>eigenstates</em>. The coefficients <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> are <em>probability amplitudes</em>, meaning that in any measurement of the state of <span class="math inline">\(| \psi \rangle\)</span> the probability of seeing state <span class="math inline">\(|\uparrow \rangle\)</span> is <span class="math inline">\(\alpha^2\)</span> and the probability of seeing state <span class="math inline">\(| \downarrow \rangle\)</span> is <span class="math inline">\(\beta^2\)</span>. Sometimes these are also called <em>phases</em>. This is something you just have to take on trust unless you want to dive properly into quantum mechanics.</p>
<p>You may have heard that quantum computers carry out many calculations in parallel, and this notion of superposition is where the idea of quantum parallelism comes from: that you can act on <span class="math inline">\(| \uparrow \rangle\)</span> and <span class="math inline">\(| \downarrow \rangle\)</span> at the same time because the qubit is in a superposition of states. You may even have heard some people talk about “many worlds” interpretations of quantum mechanics in which qubits are simultaneously “computing” each possible value of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> in different universes.</p>
<p>It is best to put these aside as unnecessary (and unjustified) science-fiction-inspired enthusiasms. Practically, superposition alone is not enough to deliver massive parallelism, because you only ever see either one of the two eigenstates at measurement: you can only ever get one bit of information out of qubit.</p>
<p>The second quantum phenomenon is <em>interference.</em> Even if the whole array is represented by a single quantum state, you can address pairs of qubits in such a way that the states interfere with each other, and so become, as they say, entangled.</p>
<p>For example, here is a “Bell state”. The individual qubits may be spin up or spin down. But if you measure one of them, you know the second.</p>
<p><span class="math display">\[
| \psi \rangle = \alpha | \uparrow \uparrow \rangle + \beta | \downarrow \downarrow \rangle
\]</span></p>
<p>The system exists in a superposition of the two states, so neither qubit has a fixed value until it is measured. But if you measure the value of the spin for one particle (for example, the first) then you know the value for the other particle. Said this way, there is no more to this than “if I pull a left-footed shoe out of the box, then I know that the other shoe is right-footed”. There is more to it than this, but we can ignore it for most purposes.</p>
<p>Quantum computing relies on some clever ideas to combine the effects of superposition and interference so as to extract information from a set of qubits (by applying a sequence of gates and ending in measurements) that you could not get from classical bits.</p>
</section>
<section id="aside-the-hadamard-gate" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="aside-the-hadamard-gate"><span class="header-section-number">4.2</span> Aside: the Hadamard gate</h2>
<p>If you prepare a qubit in state <span class="math inline">\(| \uparrow \rangle\)</span> then there is a gate called the Hadamard gate that can put it into a superposition, with <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> both <span class="math inline">\(1/\sqrt{2}\)</span>. Many circuits start with Hadamard gates way to take advantage of this superposition.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2752364083.png" class="img-fluid figure-img" alt="A Hadamard gate takes a pure state as input and converts it into a superposition of states" width="300"></p>
<figcaption class="figure-caption">A Hadamard gate takes a pure state as input and converts it into a superposition of eigenstates</figcaption>
</figure>
</div>
</section>
<section id="the-deutsch-algorithm" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="the-deutsch-algorithm"><span class="header-section-number">4.3</span> The Deutsch algorithm</h2>
<p>Let’s look at the first algorithm that suggested we could use these two phenomena to get something useful, which is the Deutsch algorithm. The idea was to pose a question, no matter how artificial and useless, which quantum computers might be able to answer quicker than classical computers. And then maybe that will give us insights we can use to get to some useful questions later on.</p>
<p>Here is the problem.</p>
<p>There are four functions that act on a bit data type and produce a bit output.</p>
<table class="table">
<caption>The four functions that take a bit as input and produce a bit as output</caption>
<thead>
<tr class="header">
<th style="text-align: right;">Input</th>
<th style="text-align: right;">f0</th>
<th style="text-align: right;">f1</th>
<th style="text-align: right;">fx</th>
<th style="text-align: right;">fx’</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;"></td>
<td style="text-align: right;">Constant</td>
<td style="text-align: right;">Constant</td>
<td style="text-align: right;">Balanced</td>
<td style="text-align: right;">Balanced</td>
</tr>
</tbody>
</table>
<p>One question would be: if you have a black box and just look at the inputs and outputs, can you tell which function is in the black box? But Deutsch picked out an even more obscure question: f0 and f1 are constant and fx and fx^ are “balanced”, which is that they have one of each. If you have a black box and just look at the inputs and outputs, can you tell if the function inside is one of the even functions or one of the balanced functions?</p>
<p>Classically you need to pose two queries: what’s f(0) and what’s f(1)? And in a quantum circuit the naive way would also take two queries:</p>
<p>As the measurement will only give either f(0) or f(1) with probability a^2 or b^2, you still need to make at least two measurements to find out whether f is constant or balanced.</p>
<p>But Deutsch came up with an idea that you could use an extra cubit and combine the effects of superposition and interference to get the answer with just one query.</p>
<p>And here is the algorithm to solve it, represented by a circuit as we said.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2152342130.png" class="img-fluid figure-img" alt="The circuit diagram for an algorithm to solve Deutsch's problem with a single measurement" width="500"></p>
<figcaption class="figure-caption">The circuit diagram for an algorithm to solve Deutsch’s problem with a single measurement</figcaption>
</figure>
</div>
<p>We can’t go through this now, but with this circuit just one measurement of the top qubit will tell you whether the black box, labelled here as an Oracle, represents a constant or a balanced function. So you can use a combination of superposition and interference to do things you can’t do on a classical computer.</p>
</section>
<section id="the-canonical-algorithms" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="the-canonical-algorithms"><span class="header-section-number">4.4</span> The canonical algorithms</h2>
<p>Since then, a handful of algorithms have been developed that are particularly interesting. A recent book calls them the canon. So here’s a list of things you might do on a quantum computer.</p>
<p>These are algorithms for which it has been proved that an ideal quantum computer would offer an algorithm of less complexity than a classical computer.</p>
<p>The big one is the Shor algorithm, which shows how to factor a large number in polynomial time rather than exponential time. And as that is the root of public key encryption schemes there is a lot of excitement.</p>
<p>One algorithm is the Variational Quantum Eigensolver (VQE). When you see statements like “Quantum computing plays a role in drug discovery and the design of new materials”, this is the technique most aligned with that goal.</p>
<p>Another is the Quantum Approximate Optimization Algorithm (QAOA). When you see claims that “quantum computing will revolutionize logistics and financial portfolio management” this is the technique to think of.</p>
<p>And another is the Grover search algorithm for finding an item in an unstructured database.</p>
<p>But let’s be clear: <em>none of these shows real-world benefit compared to classical computing yet</em>.</p>
</section>
<section id="a-side-note-quantum-simulation" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="a-side-note-quantum-simulation"><span class="header-section-number">4.5</span> A side note: quantum simulation</h2>
<p>And just a side note here, but you may see some bigger numbers reported for D-Wave systems. There’s no time to talk about that here, but D-Wave is a Canadian company that has done some really interesting work, but it’s not quantum computing in the sense of gates and circuits that we see here. I’ll make the slides available, and you can follow up if you want.</p>
<p>Quantum simulation, or quantum annealing, is a separate approach to exploiting quantum phenomena to solve optimization problems. It does not involve gates, and hence is not a universal model of computation.</p>
<p>The idea is that many optimization problems are analogous to finding the ground state of a lattice of qubits (so-called “Ising problems”). The approach is to match the problem of interest to a lattice, build this lattice of qubits in the quantum computing device, cool it down, and see where it settles. Than match that back to the problem of interest to get the solution.</p>
<p>D-Wave have build computers, or simulators, using this approach with superconducting circuits as their qubits. It seems to be an open question whether D-Wave machines really show a quantum advantage.</p>
</section>
</section>
<section id="quantum-computing-in-2024" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Quantum computing in 2024</h1>
<p>So where are we when it comes to building real quantum computers that can handle problems of interest?</p>
<section id="current-state-of-the-art" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="current-state-of-the-art"><span class="header-section-number">5.1</span> Current state of the art</h2>
<p>I’ve put some numbers on the left here. Leading implementations have about a thousand qubits with gate times of 10 ns. And what is called “gate fidelity” of three nines. These have all come a long way in the last decade.</p>
<p>Google made big claims four years ago with a 53-noisy qubit processor. They said it could do this task which it would take a classical computer 10,000 years to accomplish. But it’s fundamentally not a very useful task, so no one has really thought much about the best way to do the task on a classical computer. IBM, who is competing with Google of course, came back a short time later and said “we could do that in 2 ½ days”, and another group claimed five minutes. So not convincing yet.</p>
<p>But scale is an important open question. Because we need to get up to at least 10,000 logical qubits to be of any use, and probably into the millions. And despite what Time Magazine says, we are not there yet. The largest interesting number factored by Shor’s algorithm to date is, so fare as I can find out, 21.</p>
</section>
<section id="error-correction-a-tension-at-the-heart-of-quantum-computing" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="error-correction-a-tension-at-the-heart-of-quantum-computing"><span class="header-section-number">5.2</span> Error correction: a tension at the heart of quantum computing</h2>
<p>Progress is progress, but we can’t assume a Moore’s Law progress yet.</p>
<p>There is a tension relevant for building quantum computers. You need the whole circuit to be a single state, which means no interference from the environment. Yet at the same time you are poking it and prodding it with these gates, which are very explicit interactions with the environment.</p>
<p>Also: no quantum state is really just two states that you can pick between. There are higher energy states that start to get populated as the temperature increases, and which mess things up.</p>
<p>So error correction is a big part of any quantum computing effort. And typically the answer is the same as any other error correction system: redundancy. So there is a distinction between physical qubits (which are the building blocks we have talked about) and logical qubits, which are collections of physical qubits that you can trust to behave in the way the theory needs. So how many logical qubits to a single physical qubit? Depends on the approach, but the leading work https://www.nature.com/articles/s41586-023-06927-3 at least 50.</p>
</section>
</section>
<section id="the-big-question" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> The big question</h1>
<p>So the claims made at the beginning are simply not true. What we’ve seen is a set of proofs of concept, and road maps for scaling up that give an overly-optimistic sense of predictability when there are still fundamental unknowns to resolve.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3333356435.png" class="img-fluid figure-img" alt="Are there problems for which quantum computers have an advantage, and which we care about?"></p>
<figcaption class="figure-caption">Are there problems for which quantum computers have an advantage, and which we care about?</figcaption>
</figure>
</div>
<p>We know there are problems for which there is quantum advantage. We know we can build some of these, like the Google sampling problem, but like the Deutsch algorithm these are mainly artificial. And we know there are problems we care about that have the potential for quantum advantage.</p>
<p>What we don’t know is whether we are on the left or the right side of this diagram. Or, to put it differently, how long we will be on the left side.</p>
<section id="quotation" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="quotation"><span class="header-section-number">6.1</span> Quotation</h2>
<p>And I would emphasise: don’t take this from me! Here is a recent quotation from Scott Aaronson, who did a postdoc here are the University of Waterloo before going on to become one of the leaders in the field of quantum algorithms.</p>
<blockquote class="blockquote">
<p>“Billions of dollars [are] being invested in quantum computing… in the hope that a quantum computer would accelerate machine learning, optimization, financial problems, AI problems…. As here, as a quantum algorithms person, honesty compels me to report to you that the situation is much, much iffier.”</p>
</blockquote>


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-arute2019" class="csl-entry" role="listitem">
Arute, Frank, Kunal Arya, Ryan Babbush, Dave Bacon, Joseph C. Bardin, Rami Barends, Rupak Biswas, et al. 2019. <span>“Quantum Supremacy Using a Programmable Superconducting Processor.”</span> <em>Nature</em> 574 (7779): 505–10. <a href="https://doi.org/10.1038/s41586-019-1666-5">https://doi.org/10.1038/s41586-019-1666-5</a>.
</div>
<div id="ref-charliecampbell2023" class="csl-entry" role="listitem">
Charlie Campbell. 2023. <span>“How Quantum Computing Will Transform Our World.”</span> <em>TIME</em>, January. <a href="https://time.com/6249784/quantum-computing-revolution/">https://time.com/6249784/quantum-computing-revolution/</a>.
</div>
<div id="ref-departmentofindustryscienceandresources2024" class="csl-entry" role="listitem">
Department of Industry, Science and Resources. 2024. <span>“Leading Quantum Company Chooses Australia as Site for Its Groundbreaking Utility Scale Quantum Computer | Department of Industry Science and Resources.”</span> <a href="https://www.industry.gov.au/news/leading-quantum-company-chooses-australia-site-its-groundbreaking-utility-scale-quantum-computer">https://www.industry.gov.au/news/leading-quantum-company-chooses-australia-site-its-groundbreaking-utility-scale-quantum-computer</a>.
</div>
<div id="ref-mckinseycompany2023" class="csl-entry" role="listitem">
McKinsey &amp; Company. 2023. <span>“Quantum Technology Monitor 2023.”</span> <a href="https://www.mckinsey.com/~/media/mckinsey/business%20functions/mckinsey%20digital/our%20insights/quantum%20technology%20sees%20record%20investments%20progress%20on%20talent%20gap/quantum-technology-monitor-april-2023.pdf">https://www.mckinsey.com/~/media/mckinsey/business%20functions/mckinsey%20digital/our%20insights/quantum%20technology%20sees%20record%20investments%20progress%20on%20talent%20gap/quantum-technology-monitor-april-2023.pdf</a>.
</div>
</div>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>This is not quite true for all modalities: computers built using photonic qubits are not subject to this low-temperature requirement, but they do have other challenges.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>The phrase “basis states” has somewhat different meanings in other areas of quantum mechanics, but usually in quantum computing it refers to the measurement states.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">2023 – 2024, Tom Slee</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>